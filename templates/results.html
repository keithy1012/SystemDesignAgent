<!DOCTYPE html>
<html>
<head>
  <title>System Design</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
  <script>mermaid.initialize({startOnLoad:true});</script>
</head>
<body class="p-5">
  <h3>System Design Results</h3>

    {% if design.raw_output %}
      <h5>Raw Output (Unparsed)</h5>
      <pre class="bg-light p-3">{{ design.raw_output }}</pre>
    {% else %}
      {% if design.architecture %}
        <h5>Architecture Overview</h5>
        <pre class="bg-light p-3">{{ design.architecture | tojson(indent=2) }}</pre>
      {% endif %}

      {% if design.setup_commands %}
        <h5>Setup Commands</h5>
        <pre class="bg-light p-3">{{ design.setup_commands | tojson(indent=2) }}</pre>
      {% endif %}

      {% if design.folder_structure %}
        <h5>Folder Structure</h5>
        <pre class="bg-light p-3">{{ design.folder_structure | tojson(indent=2) }}</pre>
      {% endif %}

      {% if design.mermaid_diagram %}
        <h5>Architecture Diagram</h5>
        <div class="mermaid">{{ design.mermaid_diagram }}</div>
      {% endif %}

      {% if design.recommendations %}
        <h5>Recommendations</h5>
        <pre class="bg-light p-3">{{ design.recommendations | tojson(indent=2) }}</pre>
      {% endif %}
    {% endif %}

</body>
</html>
